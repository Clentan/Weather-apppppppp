{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\clent\\\\OneDrive\\\\Desktop\\\\Weather\\\\weather-weather\\\\src\\\\components\\\\CurrentLocation.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function CurrentLocation() {\n  _s();\n  const [location, setLocation] = useState(null);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [fahrenheit, setFahrenheit] = useState(); //because the data does changes\n\n  useEffect(() => {\n    async function fetchCurrentLocation() {\n      if (navigator.geolocation.getCurrentPosition) {\n        navigator.geolocation.getCurrentPosition(async position => {\n          const lat = position.coords.latitude;\n          const lon = position.coords.longitude;\n          const appid = \"6a4306a0f2c73c28dc5c3bbf739e87d0\";\n          try {\n            const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${appid}&units=metric`);\n            const data = await response.json();\n            setLocation(data);\n            setIsLoading(false);\n\n            // Save weather data to localStorage\n            saveToLocalStorage(data);\n\n            // Calculate and log the temperature in Fahrenheit\n            calculate(data);\n          } catch (error) {\n            setError('Error fetching the location data.');\n            setIsLoading(false);\n            console.error('Error fetching the location data:', error);\n          }\n        }, () => {\n          alert('No location detected ðŸ˜”');\n          loadFromLocalStorage();\n        });\n      } else {\n        alert('Geolocation is not supported by this browser.');\n        loadFromLocalStorage();\n      }\n    }\n    fetchCurrentLocation();\n  }, []);\n\n  // Calculate temperature in Fahrenheit\n  function calculate(location) {\n    const fahrenheit = location.main.temp * 1.8 + 32; // converting Celsius to Fahrenheit\n    setFahrenheit(fahrenheit); //after calculating we store t\n    console.log(fahrenheit); // logs the result to the console\n  }\n\n  // Save weather data to localStorage\n  function saveToLocalStorage(data) {\n    const weatherData = {\n      location: data,\n      timestamp: Date.now()\n    };\n    localStorage.setItem('currentWeather', JSON.stringify(weatherData));\n  }\n\n  // Load weather data from localStorage\n  function loadFromLocalStorage() {\n    const cachedData = localStorage.getItem('currentWeather');\n    if (cachedData) {\n      const {\n        location,\n        timestamp\n      } = JSON.parse(cachedData);\n\n      // Use the cached data if it's less than 6 hours old\n      if (Date.now() - timestamp < 6 * 60 * 60 * 1000) {\n        setLocation(location);\n\n        // Calculate and log the temperature in Fahrenheit\n        calculate(location);\n      } else {\n        setError('Cached data is too old. Please connect to the internet to get the latest weather information.');\n      }\n    } else {\n      setError('No cached data available. Please connect to the internet.');\n    }\n    setIsLoading(false);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: isLoading ? /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }, this) : error ? /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }, this) : location && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"current\",\n        children: [\"Your Current Location: \", location.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"Current\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Today's Weather\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `https://openweathermap.org/img/wn/${location.weather[0].icon}.png`,\n          alt: location.weather[0].description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"Location: \", location.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"Temperature: \", fahrenheit, \"\\xB0f/\", location.main.temp]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"Weather: \", location.weather[0].description]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"Humidity: \", location.main.humidity, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"Wind Speed: \", location.wind.speed, \" m/s\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 9\n  }, this);\n}\n//if(local.main.temp)\n_s(CurrentLocation, \"mhP/QNhSPbWNzmehO3/fBHZM3MM=\");\n_c = CurrentLocation;\n{}\nvar _c;\n$RefreshReg$(_c, \"CurrentLocation\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","CurrentLocation","_s","location","setLocation","error","setError","isLoading","setIsLoading","fahrenheit","setFahrenheit","fetchCurrentLocation","navigator","geolocation","getCurrentPosition","position","lat","coords","latitude","lon","longitude","appid","response","fetch","data","json","saveToLocalStorage","calculate","console","alert","loadFromLocalStorage","main","temp","log","weatherData","timestamp","Date","now","localStorage","setItem","JSON","stringify","cachedData","getItem","parse","children","fileName","_jsxFileName","lineNumber","columnNumber","className","name","src","weather","icon","alt","description","humidity","wind","speed","_c","$RefreshReg$"],"sources":["C:/Users/clent/OneDrive/Desktop/Weather/weather-weather/src/components/CurrentLocation.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nexport default function CurrentLocation() {\r\n    const [location, setLocation] = useState(null);\r\n    const [error, setError] = useState(null);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const[fahrenheit, setFahrenheit]=useState();//because the data does changes\r\n\r\n\r\n    useEffect(() => {\r\n        async function fetchCurrentLocation() {\r\n            if (navigator.geolocation.getCurrentPosition) {\r\n                navigator.geolocation.getCurrentPosition(async (position) => {\r\n                    const lat = position.coords.latitude;\r\n                    const lon = position.coords.longitude;\r\n                    const appid = \"6a4306a0f2c73c28dc5c3bbf739e87d0\";\r\n\r\n                    try {\r\n                        const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${appid}&units=metric`);\r\n                        const data = await response.json();\r\n                        \r\n                        setLocation(data);\r\n                        setIsLoading(false);\r\n                        \r\n\r\n                        // Save weather data to localStorage\r\n                        saveToLocalStorage(data);\r\n\r\n                        // Calculate and log the temperature in Fahrenheit\r\n                        calculate(data);\r\n\r\n                    } catch (error) {\r\n                        setError('Error fetching the location data.');\r\n                        setIsLoading(false);\r\n                        console.error('Error fetching the location data:', error);\r\n                    }\r\n                }, () => {\r\n                    alert('No location detected ðŸ˜”');\r\n                    loadFromLocalStorage();\r\n                });\r\n            } else {\r\n                alert('Geolocation is not supported by this browser.');\r\n                loadFromLocalStorage();\r\n            }\r\n        }\r\n\r\n        fetchCurrentLocation();\r\n    }, []);\r\n\r\n    // Calculate temperature in Fahrenheit\r\n    function calculate(location) {\r\n        const fahrenheit = (location.main.temp * 1.8) + 32; // converting Celsius to Fahrenheit\r\n        setFahrenheit(fahrenheit);//after calculating we store t\r\n        console.log(fahrenheit); // logs the result to the console\r\n    }\r\n    \r\n    // Save weather data to localStorage\r\n    function saveToLocalStorage(data) {\r\n        const weatherData = {\r\n            location: data,\r\n            timestamp: Date.now(),\r\n        };\r\n        localStorage.setItem('currentWeather', JSON.stringify(weatherData));\r\n    }\r\n\r\n    // Load weather data from localStorage\r\n    function loadFromLocalStorage() {\r\n        const cachedData = localStorage.getItem('currentWeather');\r\n        if (cachedData) {\r\n            const { location, timestamp } = JSON.parse(cachedData);\r\n\r\n            // Use the cached data if it's less than 6 hours old\r\n            if (Date.now() - timestamp < 6 * 60 * 60 * 1000) {\r\n                setLocation(location);\r\n\r\n                // Calculate and log the temperature in Fahrenheit\r\n                calculate(location);\r\n\r\n            } else {\r\n                setError('Cached data is too old. Please connect to the internet to get the latest weather information.');\r\n            }\r\n        } else {\r\n            setError('No cached data available. Please connect to the internet.');\r\n        }\r\n        setIsLoading(false);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {isLoading ? (\r\n                <h1>Loading...</h1>\r\n            ) : error ? (\r\n                <h1>{error}</h1>\r\n            ) : (\r\n                location && (\r\n                    <>\r\n                        <h1 className='current'>Your Current Location: {location.name}</h1>\r\n                        <ul className=\"Current\">\r\n                            <h3>Today's Weather</h3>\r\n                            <img src={`https://openweathermap.org/img/wn/${location.weather[0].icon}.png`} alt={location.weather[0].description} />\r\n                            <li>Location: {location.name}</li>\r\n                            <li>Temperature: {fahrenheit}Â°f/{location.main.temp}</li>\r\n                            <li>Weather: {location.weather[0].description}</li>\r\n                            <li>Humidity: {location.main.humidity}%</li>\r\n                            <li>Wind Speed: {location.wind.speed} m/s</li>\r\n                        </ul>\r\n                    </>\r\n                )\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n//if(local.main.temp)\r\n{\r\n\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}